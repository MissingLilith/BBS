@page "/"
@using Microsoft.Extensions.Localization;
@using SchoolBBS.Shared;


<PageTitle>欢迎访问校园BBS系统</PageTitle>

<Carousel Images="@Images" Width="100%" ShowControls="true" ShowIndicators="true" />

<h1 style="text-align:center;margin:20px">欢迎访问校园BBS</h1>

@inject NavigationManager Navigation
<Button @onclick="@ToPD">ToPostDetail</Button>
<Button @onclick="@ToUC">ToUserCenter</Button>
<Button @onclick="@ToPC">ToPostCreator</Button>
<Button @onclick="@GetInfo">GetInfo</Button>
@inject HttpClient Http
@inject Blazored.LocalStorage.ISyncLocalStorageService LocalStorage
@code{
    GetUserModel getUser = new();
    private async Task GetInfo()
    {
        string token = LocalStorage.GetItem<string>("token");
        Http.DefaultRequestHeaders.Authorization=new System.Net.Http.Headers.AuthenticationHeaderValue("Bearer", token);
        var info = await Http.GetFromJsonAsync<GetUserModel>("api/Account/GetSelfInfo");
        var name = info.UserName;
    }
}

@inject IStringLocalizer<Foo> Localizer
<div>
    <Table TItem="Foo" Items="@Items.Take(10)" IsStriped="true" IsBordered="true" ShowSkeleton="true">
        <TableColumns>
            <TableColumn @bind-Field="@context.DateTime" Text="新鲜出炉"/>
            <TableColumn @bind-Field="@context.DateTime" Text="人气热门"/>
        </TableColumns>
    </Table>
</div>
